
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Thông tin cá nhân</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="shortcut icon" type="image/x-icon"
	th:href="@{/assets/img/favicon.ico}" />

<!-- CSS here -->
<!-- CSS here -->
<link rel="stylesheet" href="assets/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/css/owl.carousel.min.css">
<link rel="stylesheet" href="assets/css/slicknav.css">
<link rel="stylesheet" href="assets/css/flaticon.css">
<link rel="stylesheet" href="assets/css/gijgo.css">
<link rel="stylesheet" href="assets/css/animate.min.css">
<link rel="stylesheet" href="assets/css/magnific-popup.css">
<link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
<link rel="stylesheet" href="assets/css/themify-icons.css">
<link rel="stylesheet" href="assets/css/slick.css">
<link rel="stylesheet" href="assets/css/nice-select.css">
<link rel="stylesheet" href="assets/css/style.css">
<link rel="stylesheet" href="assets/css/login.css">
</head>
<body>
	<div class="modal fade" id="notifyModal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">...</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
				<div class="modal-body">...</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-dismiss="modal">Đóng</button>
				</div>
			</div>
		</div>
	</div>
	<div th:replace="/user/header :: head"></div>

	<main>
		<div class="container">
			<div class="row justify-content-sm-center">
				<div class="col-md-9 ">
					<div class="card">
						<div class="card-body text-center">
							<div class="row">
								<div class="col-md-12">
									<h4>Thông tin cá nhân</h4>
									<hr>
								</div>
							</div>

							<div class="row ">
								<div class="col-md-12">
									<form th:object="${userInfo}" th:attribute="${dto}"
										th:action="@{/user/userInfo}" method="post"
										enctype="multipart/form-data" id="form">
										<div class="form-group row">

											<div class="col-8">
												<input  placeholder="" class="form-control here"
													required="required" th:field="*{userId}" id="userId" type="hidden">
												<input  placeholder="" class="form-control here"
													required="required" th:field="*{password}" id="password" type="hidden">
												
											</div>
										</div>
										<div class="form-group row">
											<label for="username" class="col-4 col-form-label">Ảnh</label>
											<div class="col-8">
												<input  name="username"
													placeholder="Tên tài khoản" class="form-control here"
													th:field="*{avata}" id="avata" disabled type="text">
											</div>
										</div>
										<div class="form-group row">
											<label for="username" class="col-4 col-form-label">Chọn
												ảnh mới</label>
											<div class="col-8">
												<input type="file" name="imageFile" id="imageFile" accept="image/*" />
											</div>
										</div>
										<div class="form-group row">
											<label for="username" class="col-4 col-form-label">Tên
												tài khoản*</label>
											<div class="col-8">
												<input name="username"
													placeholder="Tên tài khoản" class="form-control here"
													th:field="*{username}" id="username" required="required" type="text">
											</div>
										</div>
										<div class="form-group row">
											<label for="name" class="col-4 col-form-label">Tên</label>
											<div class="col-8">
												<input th:field="*{name}" id="name"
													placeholder="Tên người dùng" class="form-control here"
													type="text">
											</div>
										</div>
										<div class="form-group row">
											<label for="email" class="col-4 col-form-label">Email*</label>
											<div class="col-8">
												<input  class="form-control here"
													th:field="*{email}" id="email" required="required" type="text">
											</div>
										</div>
										<div class="form-group row">
											<label for="height" class="col-4 col-form-label">Chiều
												cao</label>
											<div class="col-8">
												<input id="height" name="height" th:value="${dto.height}"
													placeholder="cm" class="form-control here"
													required="required" type="text">
											</div>
										</div>
										<div class="form-group row">
											<label for="weight" class="col-4 col-form-label">Cân
												nặng</label>
											<div class="col-8">
												<input id="weight" name="weight" th:value="${dto.weight}"
													placeholder="kg" class="form-control here"
													required="required" type="text">
											</div>
										</div>
										<div class="form-group row">
											<label for="weight" class="col-4 col-form-label">Mong muốn</label>
											<div class="col-8">
												<input id="desire"  th:value="${dto.desire}"
													placeholder="mong muốn của bạn" class="form-control here"
													required="required" type="text">
											</div>
										</div>
										<div class="form-group row">
											<label for="address" class="col-4 col-form-label">Địa
												chỉ</label>
											<div class="col-8">
												<input id="address" th:field="*{address}" 
													placeholder="Địa chỉ" class="form-control here" type="text">
											</div>
										</div>
										<div class="form-group row">
											<label for="address" class="col-4 col-form-label">Ngày sinh</label>
											<div class="col-8">
												<input id="date_Of_Birth" th:field="*{date_Of_Birth}" 
													placeholder="YYYY-MM-DD" class="form-control here" type="text">
											</div>
										</div>
										<div class="form-group row">
											<label for="address" class="col-4 col-form-label">Giới tính</label>
											<div class="col-8">
												<select id="gender" th:field="*{gender}">
													<option value="Nam">Nam</option>
													<option value="Nu">Nữ</option>
													<option value="Khác">Khác</option>
												</select>
											</div>
										</div>
										<!-- <div class="form-group row">
											<label for="newpass" class="col-4 col-form-label">Mật
												khẩu mới</label>
											<div class="col-8">
												<input id="newpass" name="newpass" placeholder=""
													class="form-control here" type="text">
											</div>
										</div> -->
										<div class="form-group row">
											<div class="col  text-center">
												<button name="submit" type="submit" class="btn btn-primary">Thay
													đổi thông tin</button>

											</div>
										</div>
									</form>

								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</main>

	<div th:replace="/user/footer :: foot"></div>

	<script th:src="@{/assets/js/vendor/modernizr-3.5.0.min.js}"></script>
	<!-- Jquery, Popper, Bootstrap -->
	<script th:src="@{/assets/js/vendor/jquery-1.12.4.min.js}"></script>
	<script th:src="@{/assets/js/popper.min.js}"></script>
	<script th:src="@{/assets/js/bootstrap.min.js}"></script>
	<!-- Jquery Mobile Menu -->
	<script th:src="@{/assets/js/jquery.slicknav.min.js}"></script>

	<!-- Jquery Slick , Owl-Carousel Plugins -->
	<script th:src="@{/assets/js/owl.carousel.min.js}"></script>
	<script th:src="@{/assets/js/slick.min.js}"></script>

	<!-- One Page, Animated-HeadLin -->
	<script th:src="@{/assets/js/wow.min.js}"></script>
	<script th:src="@{/assets/js/animated.headline.js}"></script>
	<script th:src="@{/assets/js/jquery.magnific-popup.js}"></script>

	<!-- Nice-select, sticky -->
	<script th:src="@{/assets/js/jquery.nice-select.min.js}"></script>
	<script th:src="@{/assets/js/jquery.sticky.js}"></script>

	<!-- contact js -->
	<script th:src="@{/assets/js/contact.js}"></script>
	<script th:src="@{/assets/js/jquery.form.js}"></script>
	<script th:src="@{/assets/js/jquery.validate.min.js}"></script>
	<script th:src="@{/assets/js/mail-script.js}"></script>
	<script th:src="@{/assets/js/jquery.ajaxchimp.min.js}"></script>

	<!-- Jquery Plugins, main Jquery -->
	<script th:src="@{/assets/js/plugins.js}"></script>
	<script th:src="@{/assets/js/main.js}"></script>
	<script type="text/javascript">
		$("#form")
				.submit(
						function(e) {
							e.preventDefault();
							var userId = $("#userId").val();
							var avata = $("#avata").val();
							var username = $("#username").val();
							var password = $("#password").val();
							var name = $("#name").val();
							var imageFile = $('#imageFile')[0].files[0];
							var email = $("#email").val();
							var height = $("#height").val();
							var weight = $("#weight").val();
							var address = $("#address").val();
							var date_Of_Birth = $("#date_Of_Birth").val();
							var gender = $("#gender").val();
							var desire = $("#desire").val();
							

							var form_data = new FormData();
							form_data.append('userId', userId);
							form_data.append('avata', avata);
							form_data.append('username', username);
							form_data.append('password', password);
							form_data.append('name', name);
							form_data.append('imageFile', imageFile);
							form_data.append('email', email);
							form_data.append('height', height);
							form_data.append('weight', weight);
							form_data.append('address',
									address);
							form_data.append('date_Of_Birth',
									date_Of_Birth);
							form_data.append('gender',
									gender);
							form_data.append('desire',
									desire);
							
							$.ajax({
								url : document.location.origin
										+ "/user/userInfo",
								type : 'POST',
								cache : false,
								processData : false,
								contentType : false,
								data : form_data,
								success : function() {
									notify("Thông báo",
											"Cập nhập thông tin thành công");
								},
								error : function() {
									notify("Lỗi", "Không thể xử lí dữ liệu");
								}
							});
							return false;
						});
		function notify(title, message) {
			$("#notifyModal .modal-title").html(title);
			$("#notifyModal .modal-body").html(message);
			$("#notifyModal").modal({
				backdrop : "static"
			});
		}
	</script>
</body>
</html>
